<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SYNERGY – Trainings Masterclass</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body{font-family:Inter,sans-serif;background:#f3f4f6;margin:0;padding:0;color:#0b1324}
    .top{background:#fff;border-bottom:1px solid #d9e0ea;padding:10px 18px;display:flex;justify-content:space-between;align-items:center}
    .brand{font-weight:700;color:#0d3b66;display:flex;align-items:center;gap:8px}
    .brand .mark{width:16px;height:16px;background:#0d3b66;border-radius:4px}
    .search{position:relative}
    .search input{padding:6px 10px 6px 32px;border:1px solid #0d3b66;border-radius:6px}
    .search svg{position:absolute;left:10px;top:50%;transform:translateY(-50%);stroke:#5b6475}
    .hero{padding:20px 18px}
    .hero h1{margin:0 0 6px;font-size:26px;font-weight:700;color:#0d3b66}

    .section-title{font-size:13px;font-weight:700;text-transform:uppercase;color:#5b6475;margin:10px 0 6px;letter-spacing:.5px}
    .filters{background:#fff;border-top:1px solid #d9e0ea;border-bottom:1px solid #d9e0ea;padding:14px 18px;display:flex;flex-direction:column;gap:20px}
    .filters-section{display:flex;flex-direction:column;gap:8px;padding-bottom:12px;border-bottom:1px dashed #d9e0ea}
    .filters-section:last-child{border-bottom:none;padding-bottom:0}

    .group{display:flex;flex-wrap:wrap;gap:8px}
    .pill,.seg-btn,.btn{padding:6px 14px;border:1px solid #d9e0ea;border-radius:6px;background:#fff;font-size:13px;cursor:pointer;transition:all .15s ease;font-weight:600}
    .pill:hover,.seg-btn:hover,.btn:hover{border-color:#b0b8c1}
    .pill.active,.seg-btn.active,.btn.primary{border-color:#0d3b66;background:#d3e1ee;color:#0d3b66}
    .btn.primary{background:#0d3b66;color:#fff}
    .btn.saved{border-color:#c4a356;color:#c4a356}
    .btn.saved:hover{background:#fff7e6}

    .shell{max-width:1200px;margin:0 auto;padding:16px 18px 40px}
    .grid{display:grid;gap:16px}
    @media(min-width:700px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:1000px){.grid{grid-template-columns:repeat(3,1fr)}}

    .card{background:#fff;border:1px solid #d9e0ea;border-radius:10px;overflow:hidden;display:flex;flex-direction:column;position:relative}
    .thumb{aspect-ratio:16/9;background:#0a1222;position:relative}
    .thumb .badge{position:absolute;top:8px;left:8px;background:rgba(255,255,255,.9);padding:2px 6px;border-radius:4px;font-size:12px}
    .thumb .play{position:absolute;bottom:8px;right:8px;width:36px;height:36px;border-radius:4px;background:#0d3b66;color:#fff;display:grid;place-items:center;cursor:pointer;border:none}
    .body{position:relative;padding:10px;display:flex;flex-direction:column;gap:8px}
    .save-indicator{position:absolute;right:10px;bottom:10px;display:flex;align-items:center;gap:6px;color:#c4a356;opacity:0;transform:scale(0.8);animation:fadeInScale 0.6s ease forwards}
    .save-indicator svg{filter:drop-shadow(0 1px 1px rgba(0,0,0,.15))}
    @keyframes fadeInScale{0%{opacity:0;transform:scale(0.6) rotate(-10deg)}60%{opacity:1;transform:scale(1.1) rotate(5deg)}100%{opacity:1;transform:scale(1) rotate(0deg)}}
    .title-x{margin:0;font-weight:600;font-size:15px}
    .meta{display:flex;gap:6px;flex-wrap:wrap;font-size:12px;color:#5b6475}
    .chip{padding:2px 6px;border:1px solid #d9e0ea;border-radius:6px}
    .actions{display:flex;gap:8px;margin-top:auto}
    .empty{padding:20px;text-align:center;color:#5b6475;border:1px dashed #d9e0ea;border-radius:6px;background:#fff}

    .modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:20px}
    .modal.open{display:flex}
    .dialog{background:#000;border-radius:10px;max-width:800px;width:100%;overflow:hidden}
    .dialog header{color:#fff;padding:8px 12px;display:flex;justify-content:space-between;align-items:center}
    .dialog .media{aspect-ratio:16/9}
    .dialog iframe,.dialog video,.dialog audio{width:100%;height:100%;border:0}
  </style>
</head>
<body>
  <div class="top">
    <div class="brand"><span class="mark"></span> ELURA • SYNERGY</div>
    <div class="search"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><input id="search" type="search" placeholder="Suchen…"/></div>
  </div>

  <section class="hero">
    <h1>SYNERGY – <span class="em">Trainings Masterclass</span></h1>
    <p>Alles, was du brauchst, um deine Fähigkeiten auf das nächste Level zu heben.</p>
  </section>

  <div class="filters">
    <div class="filters-section">
      <div class="section-title">Kategorien</div>
      <div class="group" id="catPills">
        <button class="pill active" data-cat="all">Alle</button>
        <button class="pill" data-cat="new">Neu</button>
        <button class="pill" data-cat="dialog">Gesprächsführung</button>
        <button class="pill" data-cat="network">Kontakte Knüpfen</button>
        <button class="pill" data-cat="social">Social Media</button>
        <button class="pill" data-cat="mindset">Mindset</button>
        <button class="pill" data-cat="saved">Gemerkte</button>
      </div>
    </div>
    <div class="filters-section">
      <div class="section-title">Filter</div>
      <div class="group" id="typeSeg">
        <button class="seg-btn active" data-type="all">Alle Typen</button>
        <button class="seg-btn" data-type="video">Videos</button>
        <button class="seg-btn" data-type="podcast">Podcasts</button>
        <button class="seg-btn" data-type="pdf">PDFs</button>
      </div>
    </div>
  </div>

  <main class="shell">
    <div id="grid" class="grid"></div>
    <div id="empty" class="empty hidden">Keine Inhalte gefunden.</div>
  </main>

  <div id="modal" class="modal" aria-hidden="true">
    <div class="dialog">
      <header><h4 id="modalTitle"></h4><button onclick="closeModal()">×</button></header>
      <div id="modalMedia" class="media"></div>
    </div>
  </div>

  <script src="https://unpkg.com/fuse.js@6.6.2"></script>
  <script>
    const STORAGE_KEY='synergy_saved_ids';
    const DATA=[
      {id:'y1',kind:'video',title:'Beispielvideo Neu',duration:'00:10',category:'new',youtubeId:'dQw4w9WgXcQ'},
      {id:'v2',kind:'video',title:'Feldarbeit: Klarheitsraum öffnen',duration:'24:08',category:'mindset',src:'https://www.w3schools.com/html/movie.mp4'},
      {id:'p1',kind:'podcast',title:'Podcast Neu',duration:'18:21',category:'new',src:'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3'},
      {id:'d1',kind:'pdf',title:'PDF Neu',size:'1.2 MB',category:'new',url:'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf'}
    ];

    function loadSaved(){ try{const raw=localStorage.getItem(STORAGE_KEY);if(!raw)return new Set();const arr=JSON.parse(raw);return new Set(Array.isArray(arr)?arr:[]);}catch{return new Set();}}
    function persistSaved(set){ try{localStorage.setItem(STORAGE_KEY,JSON.stringify([...set]));}catch{} }

    let state={query:'',category:'all',type:'all',saved:loadSaved()};
    const fuseOpts={includeScore:true,threshold:0.36,keys:['title']};

    const $grid=document.getElementById('grid');
    const $empty=document.getElementById('empty');

    function escapeHtml(s){return s.replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c]));}

    function applyFilters(items){
      let list=items;
      if(state.category==='saved') list=list.filter(i=>state.saved.has(i.id));
      else if(state.category!=='all') list=list.filter(i=>i.category===state.category);
      if(state.type!=='all') list=list.filter(i=>i.kind===state.type);
      if(state.query.trim()){
        const f=new Fuse(list,fuseOpts); list=f.search(state.query).map(r=>r.item);
      }
      return list;
    }

    function starSvg(){return `<svg width="18" height="18" viewBox="0 0 24 24" fill="#c4a356" xmlns="http://www.w3.org/2000/svg"><path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.787 1.402 8.172L12 18.896l-7.336 3.873 1.402-8.172L.132 9.21l8.2-1.192L12 .587z"/></svg>`;}

    function card(item){
      const saved=state.saved.has(item.id);
      const badge=item.kind==='video'?'Video':item.kind==='podcast'?'Podcast':'Dokument';
      const meta=item.kind==='pdf'?item.size:item.duration;
      const playBtn=item.kind!=='pdf'?`<button class="btn primary" onclick="openModal('${item.id}')">Abspielen</button>`:`<a class="btn" href="${item.url}" download>Herunterladen</a>`;
      const saveBtn=`<button class="btn ${saved?'saved':''}" aria-pressed="${saved}" onclick="toggleSave('${item.id}')">${saved?'Gemerkt':'Merken'}</button>`;
      const savedMark=saved?`<div class="save-indicator" title="Gemerkt">${starSvg()}</div>`:'';

      return `<article class="card">
        <div class="thumb">${item.kind!=='pdf'?`<span class="badge">${badge}</span>`:'PDF'}</div>
        <div class="body">
          <h3 class="title-x">${escapeHtml(item.title)}</h3>
          <div class="meta"><span class="chip">${meta||''}</span><span class="chip">${badge}</span></div>
          <div class="actions">${playBtn}${saveBtn}</div>
          ${savedMark}
        </div>
      </article>`;
    }

    function render(){
      const items=applyFilters(DATA);
      $grid.innerHTML=items.map(card).join('');
      $empty.classList.toggle('hidden',items.length!==0);
    }

    function toggleSave(id){
      if(state.saved.has(id)) state.saved.delete(id); else state.saved.add(id);
      persistSaved(state.saved);
      render();
    }

    document.getElementById('search').addEventListener('input',e=>{state.query=e.target.value||'';render()});
    document.getElementById('catPills').addEventListener('click',e=>{
      const p=e.target.closest('.pill'); if(!p) return;
      state.category=p.dataset.cat;
      document.querySelectorAll('#catPills .pill').forEach(b=>b.classList.toggle('active',b===p));
      render();
    });
    document.getElementById('typeSeg').addEventListener('click',e=>{
      const b=e.target.closest('.seg-btn'); if(!b) return;
      state.type=b.dataset.type;
      document.querySelectorAll('#typeSeg .seg-btn').forEach(x=>x.classList.toggle('active',x===b));
      render();
    });

    const $modal=document.getElementById('modal');
    const $modalMedia=document.getElementById('modalMedia');
    const $modalTitle=document.getElementById('modalTitle');
    function openModal(id){
      const item=DATA.find(x=>x.id===id); if(!item) return;
      $modalTitle.textContent=item.title;
      if(item.kind==='video'){
        $modalMedia.innerHTML=item.youtubeId?`<iframe src="https://www.youtube-nocookie.com/embed/${item.youtubeId}" allowfullscreen></iframe>`:`<video controls src="${item.src}"></video>`;
      } else if(item.kind==='podcast'){
        $modalMedia.innerHTML=`<audio controls src="${item.src}"></audio>`;
      }
      $modal.classList.add('open');
    }
    function closeModal(){$modal.classList.remove('open');$modalMedia.innerHTML='';}

    render();
  </script>
</body>
</html>
