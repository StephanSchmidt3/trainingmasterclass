<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SYNERGY – Trainings Masterclass</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f3f4f6;          /* hellgrau */
      --card: #ffffff;        /* weiß */
      --text: #111827;        /* fast-schwarz */
      --subtle: #6b7280;      /* grau */
      --accent: #0d3b66;      /* Elura Dunkelblau */
      --accent-weak: #e6eef6; /* zarte Akzentfläche */
      --radius: 12px;
      --border: 2px;          /* satte Umrandungen */
      --gap: 8px;             /* kompakte Abstände */
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: var(--bg);
      color: var(--text);
    }
    .wrap { max-width: 1120px; margin: 0 auto; padding: 40px 16px 80px; }
    h1 { margin: 0 0 4px; font-size: clamp(28px, 5vw, 48px); font-weight: 700; letter-spacing: -0.02em; }
    h1 .accent { color: #1d4ed8; }
    .tagline { margin: 4px 0 16px; font-size: clamp(16px, 2.3vw, 20px); color: #374151; max-width: 56ch; line-height: 1.5; font-weight: 500; }

    /* Suchleiste über Tabs, minimaler Abstand */
    .searchbox { position: relative; margin: 0 0 6px; }
    .searchbox input {
      width: 100%; height: 44px; border-radius: var(--radius);
      border: var(--border) solid var(--accent);
      background: var(--card); color: var(--text);
      padding: 8px 14px 8px 42px; outline: none;
    }
    .searchbox .icon { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); opacity: .55; }

    /* Tabs */
    .tabs { display: grid; grid-template-columns: repeat(5, 1fr); gap: 6px; margin: 0 0 8px; }
    .tab-btn {
      display: inline-flex; align-items: center; justify-content: center;
      height: 42px; padding: 0 12px; border-radius: 8px; cursor: pointer;
      border: var(--border) solid transparent; background: var(--card); color: var(--text);
      font-weight: 500; user-select: none; transition: background .15s ease, color .15s ease, border-color .15s ease;
    }
    .tab-btn:hover { border-color: #2a5a9b33; }
    .tab-btn.active { border-color: var(--accent); background: var(--accent-weak); color: var(--accent); font-weight: 600; }

    /* Sektionstitel + Layout */
    .section { margin: 12px 0 20px; }
    .section h2 { margin: 0 0 8px; font-size: 18px; font-weight: 700; }

    /* Karten */
    .grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
    @media (min-width: 720px) { .grid { grid-template-columns: repeat(2, 1fr); } }
    @media (min-width: 980px) { .grid { grid-template-columns: repeat(3, 1fr); } }

    .card { background: var(--card); border: var(--border) solid var(--accent); border-radius: var(--radius); padding: 14px; }
    .card h3 { margin: 0 0 6px; font-size: 15px; }
    .muted { color: var(--subtle); font-size: 14px; }

    /* Media elements – Download-Optionen ausblenden */
    video, audio { width: 100%; border-radius: 10px; }

    /* Leerer Zustand */
    .empty { border: var(--border) dashed var(--accent); border-radius: var(--radius); padding: 24px; text-align: center; color: #6b7280; background: #ffffff; }

    /* Helfer */
    .hidden { display: none !important; }
  </style>
</head>
<body>
  <main class="wrap">
    <h1>SYNERGY – <span class="accent">Trainings Masterclass</span></h1>
    <p class="tagline">Alles, was du brauchst, um deine Fähigkeiten auf das nächste Level zu heben.</p>

    <!-- Suche (über den Kategorien, minimaler Abstand) -->
    <div class="searchbox">
      <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
      <input id="search" type="search" placeholder="Suchen…" />
    </div>

    <!-- Tabs/Kategorien -->
    <div id="tabs" class="tabs" role="tablist" aria-label="Kategorien">
      <button class="tab-btn active" role="tab" aria-selected="true" data-cat="new">Neu</button>
      <button class="tab-btn" role="tab" aria-selected="false" data-cat="dialog">Gesprächsführung</button>
      <button class="tab-btn" role="tab" aria-selected="false" data-cat="network">Kontakte Knüpfen</button>
      <button class="tab-btn" role="tab" aria-selected="false" data-cat="social">Social Media</button>
      <button class="tab-btn" role="tab" aria-selected="false" data-cat="mindset">Mindset</button>
    </div>

    <!-- Inhalte -->
    <section class="section">
      <h2>Videos</h2>
      <div id="videos" class="grid"></div>
      <div id="videos-empty" class="empty hidden">Keine Videos</div>
    </section>

    <section class="section">
      <h2>Podcasts</h2>
      <div id="podcasts" class="grid"></div>
      <div id="podcasts-empty" class="empty hidden">Keine Podcasts</div>
    </section>

    <section class="section">
      <h2>PDFs</h2>
      <div id="pdfs" class="grid"></div>
      <div id="pdfs-empty" class="empty hidden">Keine PDFs</div>
    </section>
  </main>

  <!-- Fuse.js für FuzzySearch -->
  <script src="https://unpkg.com/fuse.js@6.6.2"></script>
  <script>
    // --- Demo-Daten ---
    const DATA = {
      videos: [
        { id: 'y1', type: 'youtube', title: 'Beispielvideo Neu', duration: '00:10', category: 'new', youtubeId: 'dQw4w9WgXcQ', start: 0, end: 10 },
        { id: 'v2', type: 'mp4', title: 'Feldarbeit: Klarheitsraum öffnen', duration: '24:08', category: 'mindset', src: 'https://www.w3schools.com/html/movie.mp4' },
      ],
      podcasts: [
        { id: 'p1', title: 'Podcast Neu', duration: '18:21', category: 'new', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3' },
      ],
      pdfs: [
        { id: 'd1', title: 'PDF Neu', size: '1.2 MB', category: 'new', url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf' },
      ],
    };

    // --- State ---
    let activeCategory = 'new';
    let query = '';

    // --- Fuzzy Engines ---
    const fuseOpts = { includeScore: true, threshold: 0.4, keys: ['title'] };

    function filterByState(items) {
      const byCat = items.filter(i => i.category === activeCategory);
      if (!query.trim()) return byCat;
      const fuse = new Fuse(byCat, fuseOpts);
      return fuse.search(query).map(r => r.item);
    }

    // --- Render ---
    const $videos = document.getElementById('videos');
    const $podcasts = document.getElementById('podcasts');
    const $pdfs = document.getElementById('pdfs');
    const $videosEmpty = document.getElementById('videos-empty');
    const $podcastsEmpty = document.getElementById('podcasts-empty');
    const $pdfsEmpty = document.getElementById('pdfs-empty');

    function escapeHtml(s){ return s.replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c])); }

    function render() {
      const vids = filterByState(DATA.videos);
      const pods = filterByState(DATA.podcasts);
      const docs = filterByState(DATA.pdfs);

      // Videos
      $videos.innerHTML = vids.map(v => `
        <article class="card" oncontextmenu="event.preventDefault()">
          <h3>${escapeHtml(v.title)}</h3>
          ${v.type === 'youtube' ? `
            <div style="aspect-ratio:16/9; background:#000; border-radius:10px; overflow:hidden; margin-bottom:8px;">
              <iframe
                title="${escapeHtml(v.title)}"
                src="https://www.youtube-nocookie.com/embed/${v.youtubeId}?rel=0&modestbranding=1&playsinline=1&disablekb=1&iv_load_policy=3&start=${v.start||0}${v.end?`&end=${v.end}`:''}"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen sandbox="allow-scripts allow-same-origin allow-presentation allow-popups"
                style="width:100%; height:100%; border:0; display:block;">
              </iframe>
            </div>` : `
            <video controls controlsList="nodownload noplaybackrate noremoteplayback" disablePictureInPicture oncontextmenu="event.preventDefault()">
              <source src="${v.src}" type="video/mp4" />
              Dein Browser unterstützt das Video-Element nicht.
            </video>`}
          <div class="muted">${v.duration}</div>
        </article>
      `).join('');

      // Podcasts
      $podcasts.innerHTML = pods.map(p => `
        <article class="card" oncontextmenu="event.preventDefault()">
          <h3>${escapeHtml(p.title)}</h3>
          <audio controls controlsList="nodownload noplaybackrate noremoteplayback" oncontextmenu="event.preventDefault()">
            <source src="${p.src}" type="audio/mpeg" />
            Dein Browser unterstützt das Audio-Element nicht.
          </audio>
          <div class="muted">${p.duration}</div>
        </article>
      `).join('');

      // PDFs
      $pdfs.innerHTML = docs.map(d => `
        <article class="card">
          <h3>${escapeHtml(d.title)}</h3>
          <div class="muted" style="margin-bottom:8px;">${d.size}</div>
          <a href="${d.url}" download style="display:inline-block; padding:10px 12px; border:var(--border) solid var(--accent); border-radius:10px; text-decoration:none; color:var(--accent); font-weight:600;">PDF herunterladen</a>
        </article>
      `).join('');

      // Empty states
      $videosEmpty.classList.toggle('hidden', vids.length !== 0);
      $podcastsEmpty.classList.toggle('hidden', pods.length !== 0);
      $pdfsEmpty.classList.toggle('hidden', docs.length !== 0);
    }

    // --- Tabs Interaktion ---
    document.getElementById('tabs').addEventListener('click', (e) => {
      const btn = e.target.closest('.tab-btn');
      if (!btn) return;
      const cat = btn.getAttribute('data-cat');
      if (!cat) return;
      activeCategory = cat;
      document.querySelectorAll('.tab-btn').forEach(b => { b.classList.toggle('active', b === btn); b.setAttribute('aria-selected', b===btn ? 'true' : 'false'); });
      render();
    });

    // --- Suche ---
    document.getElementById('search').addEventListener('input', (e) => {
      query = e.target.value || '';
      render();
    });

    // Initial
    render();
  </script>
</body>
</html>
